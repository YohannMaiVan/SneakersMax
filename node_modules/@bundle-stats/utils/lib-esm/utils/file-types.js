"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getModuleFileType = exports.getModuleSourceFileType = exports.getFileType = exports.getFilenameFileType = void 0;

require("core-js/modules/es.array.iterator.js");

var _fileTypes = require("../config/file-types");

/**
 * Get file type using an array of patterns
 *
 * @param {string} filename
 * @param {Object} patterns
 *
 * @return {string} file type
 */
const getFilenameFileType = (filename, patterns) => {
  const fileType = Object.entries(patterns).find(([, pattern]) => pattern.test(filename));
  return fileType ? fileType[0] : _fileTypes.FILE_TYPE_OTHER;
};

exports.getFilenameFileType = getFilenameFileType;

const getFileType = filename => {
  const fileType = Object.entries(_fileTypes.FILE_TYPE_PATTERNS).find(([, pattern]) => pattern.test(filename));
  return fileType ? fileType[0] : _fileTypes.FILE_TYPE_OTHER;
};
/**
 * Get module source file type
 *
 * @param {string} moduleSourceFilename
 * @return {string} file type
 */


exports.getFileType = getFileType;

const getModuleSourceFileType = moduleSourceFilename => getFilenameFileType(moduleSourceFilename, _fileTypes.MODULE_SOURCE_PATTERNS);
/**
 * Get module file type
 *
 * @param {string} moduleFilename
 * @return {string} file type
 */


exports.getModuleSourceFileType = getModuleSourceFileType;

const getModuleFileType = moduleFilename => getFilenameFileType(moduleFilename, _fileTypes.MODULE_DESTINATION_PATTERNS);

exports.getModuleFileType = getModuleFileType;